var u=(r,n)=>()=>(n||r((n={exports:{}}).exports,n),n.exports);var p=u((C,f)=>{const v=(r,n)=>{var t={},s={},i={};for(let o of n){const a=o.getTableName();let l=o.getSchema();Array.isArray(l)&&l.map(e=>{if(!e.version||!e.columns){console.warn("Invalid schema configuraiont: ",o.getTableName(),e);return}t[e.version]||(t[e.version]={},s[e.version]=[]),t[e.version][a]=e.columns,i[a]=e.columns,typeof e.upgrade=="function"&&s[e.version].push(e.upgrade)})}for(let o in t){for(let l of n){const e=l.getTableName();t[o].hasOwnProperty(e)&&(t[o][e]=i[e])}r.version(o).stores(t[o]).upgrade(function(){s[o].map(l=>{l==null||l.call(null,r)})})}for(let o of n){const a=o.getTableName();o.setTableConnection(r[a]),o.getTableConnection().mapToClass(o)}};f.exports=v});export default p();
